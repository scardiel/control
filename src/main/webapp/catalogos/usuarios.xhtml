<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Menu</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"></link>
        <h:outputStylesheet library="css" name="menu.css"/>
        <h:outputStylesheet library="css" name="tablas.css" />
    </h:head>
    <h:body>
        <ui:composition template="/templates/plantilla.xhtml">
            <ui:define name="content">
                <f:view>
                    <div class="container-fluid">
                        <div class="col-sm-12">
                            <h:form>
                                <p:dataTable value = "#{userManaged.listaUsuarios}" var = "usuarioT">
                                    <f:facet name="header" >
                                        <h3 align="center">Catalogo de Usuarios</h3>
                                    </f:facet>
                                    <p:column headerText="Id">    				
                                        <h:outputText value="#{usuarioT.idusuarios}"/>
                                    </p:column>
                                    <p:column headerText="Nombre" sortBy="#{usuarioT.nombre}">    				
                                        <h:outputText value="#{usuarioT.nombre}"/>
                                    </p:column>
                                    <p:column headerText="A. Pat.">    				
                                        <h:outputText value="#{usuarioT.apat}"/>
                                    </p:column>
                                    <p:column headerText="A. Mat">    				
                                        <h:outputText value="#{usuarioT.amat}"/>
                                    </p:column>
                                    <p:column headerText="Empresa">    				
                                        <h:outputText value="#{usuarioT.idempresa}"/>
                                    </p:column>
                                    <p:column headerText="Id Área">    				
                                        <h:outputText value="#{usuarioT.idarea}"/>
                                    </p:column>
                                    <p:column headerText="Teléfono">    				
                                        <h:outputText value="#{usuarioT.telefono}"/>
                                    </p:column>
                                    <p:column headerText="Correo">    				
                                        <h:outputText value="#{usuarioT.email}"/>
                                    </p:column>
                                    <p:column headerText="Perfil">    				
                                        <h:outputText value="#{usuarioT.idperfiles}"/>
                                    </p:column>
                                    <p:column headerText="Usuario">    				
                                        <h:outputText value="#{usuarioT.usuario}"/>
                                    </p:column>
                                    <p:column headerText="Password">    				
                                        <h:outputText value="#{usuarioT.password}"/>
                                    </p:column>
                                    <p:column headerText="Estatus">    				
                                        <h:outputText value="#{usuarioT.estatus}"/>
                                    </p:column>
                                    <p:column headerText="Editar">
                                        <h:commandButton action="#{userManaged.editaUsuario(usuarioT)}" value="Editar" styleClass="btn btn-primary"></h:commandButton>
                                    </p:column>
                                    <p:column headerText="Borrar">
                                        <h:commandButton action="#{userManaged.borraUsuario(usuarioT)}" value="Borrar" styleClass="btn btn-danger"></h:commandButton>
                                    </p:column>
                                </p:dataTable>
                            </h:form>
                        </div>
                    </div>
                    <br/>
                    <div class="col-sm-12">
                        <h:form>
                            <div class="col-sm-12" align="center">
                                <h3><h:outputText value="#{userManaged.titulo}"/></h3>
                            </div>
                            <div class="row">
                                <div class="col-sm-12" align="center">
                                    <p:panelGrid columns="2">
                                        <p:outputLabel value="Nombre:" for="nombre" />   
                                        <p:inputText id="nombre" value="#{userManaged.unUsuario.nombre}" title="Nombre" required="true" requiredMessage="The Nombre field is required."/>
                                        <p:outputLabel value="Apat:" for="apat" />
                                        <p:inputText id="apat" value="#{userManaged.unUsuario.apat}" title="Apat" required="true" requiredMessage="The Apat field is required."/>
                                        <p:outputLabel value="Amat:" for="amat" />
                                        <p:inputText id="amat" value="#{userManaged.unUsuario.amat}" title="Amat" />
                                        <p:outputLabel value="Idempresa:" for="idempresa" />
                                        <p:inputText id="idempresa" value="#{userManaged.unUsuario.idempresa}" title="Idempresa" required="true" requiredMessage="The Idempresa field is required."/>
                                        <p:outputLabel value="Idarea:" for="idarea" />
                                        <p:inputText id="idarea" value="#{userManaged.unUsuario.idarea}" title="Idarea" required="true" requiredMessage="The Idarea field is required."/>
                                        <p:outputLabel value="Telefono:" for="telefono" />
                                        <p:inputText id="telefono" value="#{userManaged.unUsuario.telefono}" title="Telefono" />
                                        <p:outputLabel value="Email:" for="email" />
                                        <p:inputText id="email" value="#{userManaged.unUsuario.email}" title="Email" required="true" requiredMessage="The Email field is required."/>
                                        <p:outputLabel value="Idperfiles:" for="idperfiles" />
                                        <p:inputText id="idperfiles" value="#{userManaged.unUsuario.idperfiles}" title="Idperfiles" required="true" requiredMessage="The Idperfiles field is required."/>
                                        <p:outputLabel value="Usuario:" for="usuario" />
                                        <p:inputText id="usuario" value="#{userManaged.unUsuario.usuario}" title="Usuario" required="true" requiredMessage="The Usuario field is required."/>
                                        <p:outputLabel value="Password:" for="password" />
                                        <p:inputText id="password" value="#{userManaged.unUsuario.password}" title="Password" required="true" requiredMessage="The Password field is required."/>
                                        <p:outputLabel value="Estatus:" for="estatus" />
                                        <h:selectOneMenu id="estatus" value="#{userManaged.unUsuario.estatus}" >
                                            <f:selectItem itemLabel="Activo" itemValue="True" />
                                            <f:selectItem itemLabel="Inactivo" itemValue="False" />
                                        </h:selectOneMenu>
                                    </p:panelGrid>
                                </div>
                            </div>
                            <br/>
                            <div class="col-sm-12" align="center">
                                <h:commandButton action="#{userManaged.guardaUsuario()}" value="Guardar" class="btn btn-primary active"></h:commandButton>            
                            </div>
                        </h:form>
                    </div>
                </f:view>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
